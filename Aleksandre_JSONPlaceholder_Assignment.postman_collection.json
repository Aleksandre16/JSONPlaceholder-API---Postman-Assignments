{
	"info": {
		"_postman_id": "7f974740-52a9-48cc-a217-b3db715facae",
		"name": "Aleksandre_JSONPlaceholder_Assignment",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "50197697"
	},
	"item": [
		{
			"name": "01_User_Operations",
			"item": [
				{
					"name": "GET Users with Company Filter",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is an array\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});",
									"",
									"pm.test(\"Filter companies containing 'Group'\", function () {",
									"    const jsonData = pm.response.json();",
									"    const companiesWithGroup = jsonData.filter(user => ",
									"        user.company && user.company.name && user.company.name.includes('Group')",
									"    );",
									"    pm.expect(companiesWithGroup.length).to.be.greaterThan(0);",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"User schema validation\", function () {",
									"    const jsonData = pm.response.json();",
									"    jsonData.forEach(user => {",
									"        pm.expect(user).to.have.property('id');",
									"        pm.expect(user).to.have.property('name');",
									"        pm.expect(user).to.have.property('username');",
									"        pm.expect(user).to.have.property('email');",
									"        pm.expect(user).to.have.property('address');",
									"        pm.expect(user).to.have.property('company');",
									"    });",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"current_timestamp\", Date.now());"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST New User",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const timestamp = Date.now();",
									"const randomEmail = `user_${timestamp}@example.com`;",
									"pm.environment.set(\"generated_email\", randomEmail);",
									"",
									"const randomUsername = `user_${timestamp}`;",
									"pm.environment.set(\"generated_username\", randomUsername);",
									"",
									"pm.environment.set(\"current_timestamp\", timestamp);",
									"",
									"pm.environment.set(\"user_id\", 11); "
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response has required properties\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('name');",
									"    pm.expect(jsonData).to.have.property('email');",
									"    pm.expect(jsonData).to.have.property('username');",
									"});",
									"",
									"pm.test(\"Email format is valid\", function () {",
									"    const jsonData = pm.response.json();",
									"    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
									"    pm.expect(jsonData.email).to.match(emailRegex);",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"const jsonData = pm.response.json();",
									"if (jsonData.id) {",
									"    pm.environment.set(\"user_id\", jsonData.id);",
									"}",
									"",
									"pm.test(\"Data types are correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(typeof jsonData.id).to.equal('number');",
									"    pm.expect(typeof jsonData.name).to.equal('string');",
									"    pm.expect(typeof jsonData.email).to.equal('string');",
									"    pm.expect(typeof jsonData.username).to.equal('string');",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Sandro Kvlividze\",\n    \"username\": \"{{generated_username}}\",\n    \"email\": \"{{generated_email}}\",\n    \"address\": {\n        \"street\": \"Rustaveli Ave\",\n        \"suite\": \"Apt. 15\",\n        \"city\": \"Tbilisi\",\n        \"zipcode\": \"0108\",\n        \"geo\": {\n            \"lat\": \"41.7151\",\n            \"lng\": \"44.8271\"\n        }\n    },\n    \"phone\": \"555-123-456\",\n    \"website\": \"sandro.ge\",\n    \"company\": {\n        \"name\": \"Tech Group\",\n        \"catchPhrase\": \"Innovation first\",\n        \"bs\": \"software development\"\n    }\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "02_Post_Operations",
			"item": [
				{
					"name": "GET Posts by User",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const userId = pm.environment.get(\"user_id\");",
									"",
									"if (!userId) {",
									"    pm.environment.set(\"user_id\", 1);",
									"}",
									"",
									"pm.environment.set(\"current_timestamp\", Date.now());"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"All posts belong to the specified user_id\", function () {",
									"    const jsonData = pm.response.json();",
									"    const userId = parseInt(pm.environment.get(\"user_id\"));",
									"    ",
									"    if (jsonData.length > 0) {",
									"        jsonData.forEach(post => {",
									"            pm.expect(post.userId).to.equal(userId);",
									"        });",
									"    }",
									"});",
									"",
									"pm.test(\"Post schema validation\", function () {",
									"    const jsonData = pm.response.json();",
									"    ",
									"    const postSchema = {",
									"        type: 'array',",
									"        items: {",
									"            type: 'object',",
									"            required: ['userId', 'id', 'title', 'body'],",
									"            properties: {",
									"                userId: { type: 'number' },",
									"                id: { type: 'number' },",
									"                title: { type: 'string' },",
									"                body: { type: 'string' }",
									"            }",
									"        }",
									"    };",
									"    ",
									"    pm.expect(jsonData).to.be.an('array');",
									"    if (jsonData.length > 0) {",
									"        jsonData.forEach(post => {",
									"            pm.expect(post).to.have.property('userId');",
									"            pm.expect(post).to.have.property('id');",
									"            pm.expect(post).to.have.property('title');",
									"            pm.expect(post).to.have.property('body');",
									"        });",
									"    }",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"const jsonData = pm.response.json();",
									"if (jsonData.length > 0) {",
									"    pm.environment.set(\"post_id\", jsonData[0].id);",
									"}",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/posts?userId={{user_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"posts"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{user_id}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT Update Post",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let postId = pm.environment.get(\"post_id\");",
									"",
									"if (!postId) {",
									"    pm.environment.set(\"post_id\", 1);",
									"    postId = 1;",
									"}",
									"",
									"const timestamp = Date.now();",
									"pm.environment.set(\"current_timestamp\", timestamp);",
									"pm.environment.set(\"updated_title\", `Updated Post Title - ${timestamp}`);",
									"pm.environment.set(\"updated_body\", `This post was updated at ${new Date(timestamp).toISOString()}`);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Updated values are correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    const expectedTitle = pm.environment.get(\"updated_title\");",
									"    const expectedBody = pm.environment.get(\"updated_body\");",
									"    ",
									"    pm.expect(jsonData.title).to.equal(expectedTitle);",
									"    pm.expect(jsonData.body).to.equal(expectedBody);",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"Post schema validation\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('title');",
									"    pm.expect(jsonData).to.have.property('body');",
									"    pm.expect(jsonData).to.have.property('userId');",
									"});",
									"",
									"pm.test(\"Data types are correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(typeof jsonData.id).to.equal('number');",
									"    pm.expect(typeof jsonData.title).to.equal('string');",
									"    pm.expect(typeof jsonData.body).to.equal('string');",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": {{post_id}},\n    \"title\": \"{{updated_title}}\",\n    \"body\": \"{{updated_body}}\",\n    \"userId\": {{user_id}}\n}"
						},
						"url": {
							"raw": "{{base_url}}/posts/{{post_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"posts",
								"{{post_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE Post",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let postId = pm.environment.get(\"post_id\");",
									"",
									"if (!postId) {",
									"    pm.environment.set(\"post_id\", 1);",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is empty object\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(Object.keys(jsonData).length).to.equal(0);",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"No error property in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/posts/{{post_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"posts",
								"{{post_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "03_Comment_Operations",
			"item": [
				{
					"name": "GET Comments for Post",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let postId = pm.environment.get(\"post_id\");",
									"",
									"if (!postId) {",
									"    pm.environment.set(\"post_id\", 1);",
									"}",
									"",
									"postId = parseInt(pm.environment.get(\"post_id\"));",
									"if (isNaN(postId) || postId < 1) {",
									"    pm.environment.set(\"post_id\", 1);",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"All comments have valid email format\", function () {",
									"    const jsonData = pm.response.json();",
									"    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
									"    ",
									"    jsonData.forEach(comment => {",
									"        pm.expect(comment.email).to.match(emailRegex);",
									"    });",
									"});",
									"",
									"pm.test(\"Comment structure validation\", function () {",
									"    const jsonData = pm.response.json();",
									"    ",
									"    pm.expect(jsonData).to.be.an('array');",
									"    ",
									"    jsonData.forEach(comment => {",
									"        pm.expect(comment).to.have.property('postId');",
									"        pm.expect(comment).to.have.property('id');",
									"        pm.expect(comment).to.have.property('name');",
									"        pm.expect(comment).to.have.property('email');",
									"        pm.expect(comment).to.have.property('body');",
									"    });",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"All comments belong to the specified post\", function () {",
									"    const jsonData = pm.response.json();",
									"    const postId = parseInt(pm.environment.get(\"post_id\"));",
									"    ",
									"    jsonData.forEach(comment => {",
									"        pm.expect(comment.postId).to.equal(postId);",
									"    });",
									"});",
									"",
									"pm.test(\"Data types are correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    ",
									"    if (jsonData.length > 0) {",
									"        const comment = jsonData[0];",
									"        pm.expect(typeof comment.postId).to.equal('number');",
									"        pm.expect(typeof comment.id).to.equal('number');",
									"        pm.expect(typeof comment.name).to.equal('string');",
									"        pm.expect(typeof comment.email).to.equal('string');",
									"        pm.expect(typeof comment.body).to.equal('string');",
									"    }",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/posts/{{post_id}}/comments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"posts",
								"{{post_id}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST New Comment",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const timestamp = Date.now();",
									"const uniqueId = Math.random().toString(36).substring(7);",
									"",
									"const commentName = `Comment by Sandro - ${uniqueId}`;",
									"const commentEmail = `sandro_${timestamp}@mail.com`;",
									"const commentBody = `This is my comment. Timestamp: ${new Date(timestamp).toISOString()}. ID: ${uniqueId}`;",
									"",
									"pm.environment.set(\"comment_name\", commentName);",
									"pm.environment.set(\"comment_email\", commentEmail);",
									"pm.environment.set(\"comment_body\", commentBody);",
									"pm.environment.set(\"current_timestamp\", timestamp);",
									"",
									"if (!pm.environment.get(\"post_id\")) {",
									"    pm.environment.set(\"post_id\", 1);",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Comment has all required properties\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('postId');",
									"    pm.expect(jsonData).to.have.property('name');",
									"    pm.expect(jsonData).to.have.property('email');",
									"    pm.expect(jsonData).to.have.property('body');",
									"});",
									"",
									"pm.test(\"Response format is correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    ",
									"    pm.expect(typeof jsonData.id).to.equal('number');",
									"    pm.expect(typeof jsonData.name).to.equal('string');",
									"    pm.expect(typeof jsonData.email).to.equal('string');",
									"    pm.expect(typeof jsonData.body).to.equal('string');",
									"});",
									"",
									"pm.test(\"Email format is valid\", function () {",
									"    const jsonData = pm.response.json();",
									"    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;",
									"    pm.expect(jsonData.email).to.match(emailRegex);",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"Submitted data matches response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.name).to.equal(pm.environment.get(\"comment_name\"));",
									"    pm.expect(jsonData.email).to.equal(pm.environment.get(\"comment_email\"));",
									"    pm.expect(jsonData.body).to.equal(pm.environment.get(\"comment_body\"));",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"postId\": {{post_id}},\n    \"name\": \"{{comment_name}}\",\n    \"email\": \"{{comment_email}}\",\n    \"body\": \"{{comment_body}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/comments",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"comments"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "04_Album_Photo_Operations",
			"item": [
				{
					"name": "GET Album",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let albumId = pm.environment.get(\"album_id\");",
									"",
									"if (!albumId) {",
									"    pm.environment.set(\"album_id\", 1);",
									"}",
									"",
									"pm.environment.set(\"current_timestamp\", Date.now());"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Album has required properties\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('userId');",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('title');",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"Data types are correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(typeof jsonData.userId).to.equal('number');",
									"    pm.expect(typeof jsonData.id).to.equal('number');",
									"    pm.expect(typeof jsonData.title).to.equal('string');",
									"});",
									"",
									"const albumData = pm.response.json();",
									"pm.environment.set(\"album_id\", albumData.id);",
									"pm.environment.set(\"album_user_id\", albumData.userId);",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/albums/{{album_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"albums",
								"{{album_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Photos for Album",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"let albumId = pm.environment.get(\"album_id\");",
									"",
									"if (!albumId) {",
									"    pm.environment.set(\"album_id\", 1);",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Photos array is not empty\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"    pm.expect(jsonData.length).to.be.greaterThan(0);",
									"    pm.test(\"Verify photo count is 50\", function () { const data = pm.response.json(); pm.expect(data.length).to.equal(50); }); //// Verifying that the album contains exactly 50 photos as per JSONPlaceholder's default data structure.",
									"",
									"});",
									"",
									"pm.test(\"All photos belong to the album\", function () {",
									"    const jsonData = pm.response.json();",
									"    const albumId = parseInt(pm.environment.get(\"album_id\"));",
									"    ",
									"    jsonData.forEach(photo => {",
									"        pm.expect(photo.albumId).to.equal(albumId);",
									"    });",
									"});",
									"",
									"pm.test(\"Photo structure validation\", function () {",
									"    const jsonData = pm.response.json();",
									"    ",
									"    jsonData.forEach(photo => {",
									"        pm.expect(photo).to.have.property('albumId');",
									"        pm.expect(photo).to.have.property('id');",
									"        pm.expect(photo).to.have.property('title');",
									"        pm.expect(photo).to.have.property('url');",
									"        pm.expect(photo).to.have.property('thumbnailUrl');",
									"    });",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"Photo URLs are valid\", function () {",
									"    const jsonData = pm.response.json();",
									"    const urlRegex = /^https?:\\/\\/.+/;",
									"    ",
									"    jsonData.forEach(photo => {",
									"        pm.expect(photo.url).to.match(urlRegex);",
									"        pm.expect(photo.thumbnailUrl).to.match(urlRegex);",
									"    });",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/albums/{{album_id}}/photos",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"albums",
								"{{album_id}}",
								"photos"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST New Photo",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const timestamp = Date.now();",
									"pm.environment.set(\"current_timestamp\", timestamp);",
									"",
									"const uniqueId = Math.random().toString(36).substring(7);",
									"const photoUrl = `https://via.placeholder.com/600/${uniqueId}`;",
									"const thumbnailUrl = `https://via.placeholder.com/150/${uniqueId}`;",
									"const photoTitle = `My Photo - ${new Date(timestamp).toISOString()}`;",
									"",
									"pm.environment.set(\"photo_url\", photoUrl);",
									"pm.environment.set(\"photo_thumbnail_url\", thumbnailUrl);",
									"pm.environment.set(\"photo_title\", photoTitle);",
									"",
									"if (!pm.environment.get(\"album_id\")) {",
									"    pm.environment.set(\"album_id\", 1);",
									"}"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Photo URLs are valid format\", function () {",
									"    const jsonData = pm.response.json();",
									"    const urlRegex = /^https?:\\/\\/.+/;",
									"    ",
									"    pm.expect(jsonData.url).to.match(urlRegex);",
									"    pm.expect(jsonData.thumbnailUrl).to.match(urlRegex);",
									"});",
									"",
									"pm.test(\"Photo has all required properties\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('albumId');",
									"    pm.expect(jsonData).to.have.property('title');",
									"    pm.expect(jsonData).to.have.property('url');",
									"    pm.expect(jsonData).to.have.property('thumbnailUrl');",
									"});",
									"",
									"pm.test(\"Response time is under 5000ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(5000);",
									"});",
									"",
									"pm.test(\"Response is valid JSON\", function () {",
									"    pm.response.to.be.json;",
									"});",
									"",
									"pm.test(\"Data types are correct\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(typeof jsonData.id).to.equal('number');",
									"    pm.expect(typeof jsonData.title).to.equal('string');",
									"    pm.expect(typeof jsonData.url).to.equal('string');",
									"    pm.expect(typeof jsonData.thumbnailUrl).to.equal('string');",
									"});",
									"",
									"pm.test(\"Submitted data matches response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData.title).to.equal(pm.environment.get(\"photo_title\"));",
									"    pm.expect(jsonData.url).to.equal(pm.environment.get(\"photo_url\"));",
									"    pm.expect(jsonData.thumbnailUrl).to.equal(pm.environment.get(\"photo_thumbnail_url\"));",
									"});",
									"",
									"pm.test(\"No error in response\", function () {",
									"    const jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('error');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"albumId\": {{album_id}},\n    \"title\": \"{{photo_title}}\",\n    \"url\": \"{{photo_url}}\",\n    \"thumbnailUrl\": \"{{photo_thumbnail_url}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/photos",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"photos"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"pm.environment.set(\"current_timestamp\", Date.now());"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"pm.test(\"Response time is acceptable\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(5000);",
					"});",
					"",
					"pm.test(\"Content-Type is application/json\", function () {",
					"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
					"});",
					"pm.test(\"Response should handle all errors\", function () {",
					"    if (pm.response.code >= 400) {",
					"        pm.expect(pm.response.status).to.be.oneOf([\"Not Found\", \"Bad Request\", \"Internal Server Error\"]);",
					"    }",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "https://jsonplaceholder.typicode.com"
		}
	]
}